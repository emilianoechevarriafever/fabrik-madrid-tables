<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fabrik Madrid ‚Äî Reserva tu Mesa VIP | Fever</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    :root {
      --color-primary: #0079ca;
      --color-primary-weak: #e6f4ff;
      --color-primary-light: #f2fbfd;
      --color-primary-hover: #0068b0;
      --color-text: #031419;
      --color-text-main: #031419;
      --color-text-subtle: #536b75;
      --color-text-disable: #a7b2ba;
      --color-border: #ccd2d8;
      --color-border-light: #dde1e4;
      --color-accent: #6f41d7;
      --color-accent-weak: #f0ebfd;
      --color-danger: #eb0052;
      --color-success: #24a865;
      --color-success-weak: #e6f9ee;
      --color-warning: #ff8c00;
      --color-rating: #f5a623;
      --color-urgency-bg: #f5e6dc;
      --color-urgency-text: #9f5800;
      --color-bg: #ffffff;
      --color-bg-dark: #06232c;
      --color-bg-neutral: #f2f3f3;
      --elevation-01: 0 1px 3px 0 rgba(0,0,0,0.08);
      --elevation-02: 0 2px 4px rgba(0,0,0,0.12);
      --focus-ring-primary: 0 0 0 4px rgba(0,121,202,0.32);
      --shadow-primary: 0 3px 3px rgba(0,121,202,0.15);
      --ticket-border: #ccd2d8;
      --font: 'Montserrat', sans-serif;
    }
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }
    body { font-family:var(--font); background:var(--color-bg-neutral); display:flex; justify-content:center; color:var(--color-text); overflow-x:hidden; }
    .phone { width:393px; max-width:100vw; background:var(--color-bg); min-height:100vh; position:relative; padding-bottom:90px; }

    /* Navbar */
    .sticky-header { position:sticky; top:0; z-index:100; background:#fff; }
    .navbar { display:flex; align-items:center; justify-content:space-between; padding:10px 16px; background:#fff; border-bottom:1px solid var(--color-border); }
    .navbar .logo-link { text-decoration:none; display:flex; align-items:center; }
    .navbar .logo-link svg { height:20px; width:auto; display:block; }
    .nav-icons { display:flex; align-items:center; gap:20px; }
    .nav-icon-btn { all:unset; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; color:inherit; width:24px; height:24px; flex-shrink:0; }
    .nav-icon-btn svg { height:24px; width:auto; color:var(--color-text); }
    .nav-icon-btn:active { opacity:0.6; }

    /* Hero */
    .hero { position:relative; width:100%; height:390px; overflow:hidden; }
    .hero .carousel-track { display:flex; height:100%; transition:transform 0.5s cubic-bezier(0.4,0,0.2,1); }
    .hero .carousel-slide { min-width:100%; height:100%; }
    .hero .carousel-slide img { width:100%; height:100%; object-fit:cover; display:block; }
    .hero .nav-prev, .hero .nav-next { position:absolute; top:0; bottom:60px; z-index:3; cursor:pointer; background:none; border:none; padding:0; }
    .hero .nav-prev { left:0; width:40%; }
    .hero .nav-next { right:0; width:60%; }
    .hero .side-buttons { position:absolute; top:16px; right:16px; display:flex; flex-direction:column; gap:12px; z-index:4; }
    .hero .side-btn { width:40px; height:40px; background:white; border:1px solid rgba(0,0,0,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; box-shadow:var(--elevation-02); cursor:pointer; }
    .hero .side-btn svg { width:20px; height:20px; color:var(--color-text); }
    .hero .side-btn.liked svg { fill:var(--color-danger); stroke:var(--color-danger); color:var(--color-danger); }
    .hero .shadow-overlay { position:absolute; bottom:0; left:0; right:0; height:80px; background:linear-gradient(transparent, rgba(0,0,0,0.3)); display:flex; flex-direction:column; justify-content:flex-end; align-items:flex-end; padding:0 16px 16px; gap:16px; z-index:4; pointer-events:none; }
    .hero .slide-indicators { display:flex; gap:4px; width:100%; pointer-events:none; }
    .hero .slide-indicators .bar { flex:1; min-width:0; height:3px; border-radius:64px; background:rgba(255,255,255,0.45); overflow:hidden; position:relative; }
    .hero .slide-indicators .bar .fill { position:absolute; inset:0; width:0; background:rgba(255,255,255,0.92); border-radius:64px; }
    .hero .slide-indicators .bar.done .fill { width:100%; }
    .hero .rounded-top { position:absolute; bottom:0; left:0; right:0; height:8px; background:white; border-radius:8px 8px 0 0; z-index:5; }

    /* Title */
    .title-section { padding:16px; }
    .tag-selling { display:inline-flex; align-items:center; min-height:20px; padding:4px 12px; background:var(--color-warning); border-radius:4px; font-size:12px; font-weight:400; line-height:16px; color:var(--color-text-main); margin-bottom:12px; }
    .tag-badge { display:inline-flex; align-items:center; min-height:20px; padding:4px 12px; border-radius:4px; font-size:12px; font-weight:600; line-height:16px; margin-bottom:12px; }
    .tag-badge.purple { background:var(--color-accent-weak); color:var(--color-accent); }
    .title-section h1 { font-size:20px; font-weight:600; line-height:24px; margin-bottom:4px; }
    .title-section .subtitle { font-size:14px; color:var(--color-text-subtle); line-height:20px; margin-top:4px; }
    .divider { height:1px; background:var(--color-border); margin:0 16px; }

    /* Description */
    .description { padding:24px 16px; font-size:14px; line-height:20px; }
    .description p { margin-bottom:12px; }
    .description .desc-subtitle { font-weight:600; font-size:16px; margin-bottom:8px; margin-top:16px; }
    .description ul { padding-left:20px; margin-bottom:12px; }
    .description ul li { margin-bottom:4px; }

    /* Section headers */
    .section-header { display:flex; align-items:center; gap:8px; padding:8px 16px; background:var(--color-bg-neutral); }
    .section-header svg { width:24px; height:24px; flex-shrink:0; display:block; }
    .section-header h2 { font-size:20px; font-weight:400; line-height:24px; flex:1; color:var(--color-text-main); }

    /* ‚ïê‚ïê‚ïê INTERACTIVE MAP ‚ïê‚ïê‚ïê */
    .map-section { padding:16px; }
    .map-section .map-title { font-size:14px; font-weight:600; color:var(--color-text-subtle); margin-bottom:12px; text-align:center; }
    .floor-map-wrap { position:relative; width:100%; background:#1a1a2e; border-radius:12px; overflow:hidden; padding:16px; }
    .floor-map-wrap svg { width:100%; height:auto; display:block; }
    .floor-map-wrap .zone-group { cursor:pointer; }
    .floor-map-wrap .zone-bg { transition: opacity 0.2s, stroke-width 0.2s; }
    .floor-map-wrap .zone-group:hover .zone-bg { opacity:0.6; }
    .floor-map-wrap .zone-group.active .zone-bg { opacity:0.85; stroke:#fff; stroke-width:2; }
    .floor-map-wrap .zone-label { fill:#fff; font-family:var(--font); font-weight:600; font-size:11px; pointer-events:none; text-anchor:middle; }
    .floor-map-wrap .zone-sublabel { fill:rgba(255,255,255,0.7); font-family:var(--font); font-weight:400; font-size:8px; pointer-events:none; text-anchor:middle; }
    .floor-map-wrap .table-dot { fill:rgba(255,255,255,0.5); pointer-events:none; }
    .floor-map-wrap .zone-group.active .table-dot { fill:rgba(255,255,255,0.9); }
    .zone-badge { pointer-events:none; }
    .zone-badge circle { transition: r 0.2s; }
    .zone-badge text { fill:#fff; font-family:var(--font); font-weight:700; font-size:9px; text-anchor:middle; dominant-baseline:central; }
    .map-legend { display:flex; flex-wrap:wrap; gap:8px; margin-top:12px; justify-content:center; }
    .map-legend-item { display:flex; align-items:center; gap:4px; font-size:11px; color:var(--color-text-subtle); }
    .map-legend-dot { width:10px; height:10px; border-radius:3px; }

    /* Ticket selector */
    .ticket-selector { padding:0 16px 16px; }
    .no-fees-banner { display:flex; align-items:center; justify-content:center; gap:8px; background:var(--color-accent-weak); border-radius:8px; padding:16px; margin:16px 0; }
    .no-fees-banner svg { width:16px; height:16px; flex-shrink:0; color:var(--color-accent); }
    .no-fees-banner span { font-size:14px; font-weight:400; line-height:20px; color:var(--color-text); }

    .ticket-pills { display:flex; gap:8px; align-items:center; justify-content:flex-start; margin-bottom:20px; overflow-x:auto; scrollbar-width:none; padding:0 2px; }
    .ticket-pills::-webkit-scrollbar { display:none; }
    .ticket-pill { flex-shrink:0; padding:8px 12px; border:1px solid var(--color-border); border-radius:8px; font-size:12px; font-weight:600; color:var(--color-text); background:white; cursor:pointer; white-space:nowrap; text-align:center; transition:all 0.15s; }
    .ticket-pill.active { border-color:var(--color-primary); color:var(--color-primary); background:var(--color-primary-weak); }
    .ticket-pill:active { transform:scale(0.96); }

    /* Ticket rows */
    .ticket-row { --ticket-border:var(--color-border); display:flex; align-items:stretch; min-height:92px; margin-bottom:16px; position:relative; border-radius:8px; overflow:visible; background:transparent; }
    .ticket-row::after { content:''; position:absolute; right:136px; top:8px; bottom:8px; width:1px; background-image:repeating-linear-gradient(to bottom, var(--ticket-border) 0 2px, transparent 2px 4px); transform:translateX(50%); pointer-events:none; z-index:2; }
    .ticket-row .ticket-content { flex:1; padding:12px; display:flex; flex-direction:column; justify-content:flex-start; gap:4px; border:1px solid var(--ticket-border); border-right:none; border-radius:8px 0 0 8px; background:#fff; min-height:92px; }
    .ticket-row .ticket-name { font-size:14px; font-weight:600; line-height:20px; color:var(--color-text-main); }
    .ticket-row .ticket-desc { font-size:12px; line-height:16px; color:var(--color-text-subtle); margin-top:2px; }
    .ticket-row .ticket-price { font-size:14px; font-weight:600; line-height:20px; color:var(--color-text-main); margin-top:auto; }
    .ticket-row .ticket-selector-right { width:136px; flex-shrink:0; display:flex; align-items:center; justify-content:center; padding:12px; border:1px solid var(--ticket-border); border-left:none; border-radius:0 8px 8px 0; background:#fff; position:relative; }
    .ticket-amount { display:flex; align-items:center; gap:4px; }
    .ticket-row .stepper { display:flex; align-items:center; gap:4px; padding:0; background:transparent; border:none; }
    .ticket-amount .amt-btn { width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:20px; font-weight:400; transition:background 0.15s, color 0.15s; background:var(--color-bg-neutral); border:none; color:var(--color-text-disable); }
    .ticket-amount .amt-count { width:36px; text-align:center; font-size:16px; font-weight:600; line-height:20px; color:var(--color-text-main); }
    .ticket-row .amt-btn.plus { background:var(--color-primary-weak); color:var(--color-primary); }
    .ticket-row.qty-zero .amt-btn.minus { background:var(--color-bg-neutral); color:var(--color-text-disable); cursor:default; }
    .ticket-row.qty-zero .amt-count { color:var(--color-text-disable); }
    .ticket-row.selected { --ticket-border:var(--color-primary); }
    .ticket-row.selected .ticket-selector-right { background:var(--color-primary-weak); }
    .ticket-row.selected .stepper { background:#fff; border-radius:64px; padding:4px 6px; }
    .ticket-row.selected .amt-btn { background:var(--color-primary-weak); border:none; color:var(--color-primary); }
    .ticket-row .ticket-notch { position:absolute; right:136px; top:0; bottom:0; width:16px; pointer-events:none; z-index:3; transform:translateX(50%); }
    .ticket-row .ticket-notch::before, .ticket-row .ticket-notch::after { content:''; position:absolute; left:0; width:16px; height:8px; background:var(--color-bg); }
    .ticket-row .ticket-notch::before { top:0; border:1px solid var(--ticket-border); border-top:none; border-radius:0 0 8px 8px; }
    .ticket-row .ticket-notch::after { bottom:0; border:1px solid var(--ticket-border); border-bottom:none; border-radius:8px 8px 0 0; }

    .selling-fast-banner { display:flex; align-items:center; justify-content:center; gap:8px; margin:16px 0 20px; padding:12px 16px; background:var(--color-urgency-bg); border-radius:8px; font-size:14px; font-weight:600; line-height:20px; color:var(--color-urgency-text); }

    /* Reviews */
    .reviews { padding:24px 16px; }
    .reviews .reviews-title { font-size:20px; font-weight:600; margin-bottom:20px; }
    .reviews-summary { display:flex; gap:20px; align-items:flex-start; margin-bottom:16px; }
    .reviews-score-col { display:flex; flex-direction:column; align-items:center; min-width:80px; }
    .reviews-score-col .score-number { font-size:40px; font-weight:600; line-height:1; letter-spacing:-0.02em; }
    .reviews-score-col .score-out-of { font-size:14px; color:var(--color-text-subtle); margin-top:2px; }
    .reviews-score-col .score-stars { color:var(--color-rating); font-size:14px; letter-spacing:1px; margin-top:4px; }
    .reviews-score-col .score-count { font-size:12px; color:var(--color-text-subtle); margin-top:4px; white-space:nowrap; }
    .reviews-bars-col { flex:1; display:flex; flex-direction:column; gap:4px; padding-top:4px; }
    .bar-row { display:flex; align-items:center; gap:8px; }
    .bar-row .bar-label { font-size:12px; font-weight:600; color:var(--color-text-subtle); min-width:14px; text-align:right; }
    .bar-row .bar-star { font-size:10px; color:var(--color-rating); }
    .bar-row .bar-track { flex:1; height:6px; background:var(--color-border); border-radius:4px; overflow:hidden; }
    .bar-row .bar-fill { height:100%; background:var(--color-rating); border-radius:4px; transition:width 0.5s ease; }
    .bar-row .bar-pct { font-size:12px; color:var(--color-text-subtle); min-width:28px; text-align:right; }
    .reviews-verified { display:flex; align-items:center; gap:6px; font-size:12px; color:var(--color-text-subtle); margin-bottom:16px; padding-bottom:14px; border-bottom:1px solid var(--color-border-light); }
    .reviews-verified svg { width:14px; height:14px; color:var(--color-success); flex-shrink:0; }
    .review-card { padding:14px 0; border-bottom:1px solid var(--color-border); }
    .review-card:last-child { border-bottom:none; }
    .review-card-header { display:flex; align-items:center; gap:8px; margin-bottom:8px; }
    .review-avatar { width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:14px; font-weight:600; color:white; flex-shrink:0; }
    .review-card-info { flex:1; }
    .review-card-info .reviewer { font-size:14px; font-weight:600; line-height:20px; }
    .review-card-info .review-date { font-size:12px; color:var(--color-text-subtle); line-height:16px; }
    .review-card .review-stars { color:var(--color-rating); font-size:12px; letter-spacing:1px; margin-bottom:4px; }
    .review-card .review-text { font-size:14px; line-height:20px; color:var(--color-text-main); }
    .reviews-see-all { display:block; text-align:center; padding:14px 0 4px; font-size:14px; font-weight:600; color:var(--color-primary); text-decoration:none; cursor:pointer; }

    /* Help / Venue / Location */
    .help-section { border-bottom:1px solid var(--color-border); }
    .help-content { padding:24px 16px; font-size:14px; line-height:20px; color:var(--color-text-main); }
    .help-content a { color:var(--color-primary); text-decoration:underline; }
    .venue-wrap { border-bottom:1px solid var(--color-border); }
    .venue-section { padding:24px 16px; }
    .venue-section .venue-img { width:100%; height:200px; border-radius:8px; object-fit:cover; margin-bottom:12px; background:linear-gradient(135deg, #1a1a2e, #16213e, #0f3460); }
    .venue-section .venue-name-lg { font-size:16px; font-weight:600; margin-bottom:8px; }
    .venue-section .venue-desc { font-size:14px; line-height:20px; color:var(--color-text-subtle); }
    .location-wrap { border-bottom:1px solid var(--color-border); }
    .location { padding:24px 16px; }
    .location .loc-name { font-weight:600; font-size:14px; margin-bottom:4px; }
    .location .loc-address { font-size:14px; color:var(--color-text-subtle); margin-bottom:12px; }
    .location .map-placeholder { width:100%; height:160px; background:var(--color-border-light); border-radius:8px; overflow:hidden; }
    .location .map-placeholder iframe { width:100%; height:100%; border:0; }

    /* Footer */
    .footer { background:var(--color-text-main); color:white; padding:32px 16px 80px; }
    .footer-cols { display:flex; justify-content:space-between; margin-bottom:24px; }
    .footer-col h5 { font-size:14px; font-weight:600; margin-bottom:8px; }
    .footer-col ul { list-style:none; }
    .footer-col ul li { font-size:14px; line-height:20px; margin-bottom:4px; }
    .footer-col ul li a { color:rgba(255,255,255,0.7); text-decoration:none; transition:color 0.15s; }
    .footer-col ul li a:hover { color:white; }
    .footer .legal { border-top:1px solid rgba(255,255,255,0.15); padding-top:16px; font-size:12px; color:rgba(255,255,255,0.5); }
    .footer .legal a { color:white; }

    /* Sticky CTA */
    .sticky-cta { position:fixed; bottom:0; width:393px; max-width:100vw; z-index:200; background:transparent; padding:12px 16px max(12px, env(safe-area-inset-bottom)); display:flex; flex-direction:column; gap:0; }
    .sticky-cta .cta-btn { width:100%; height:48px; background:var(--color-primary); border:2px solid transparent; border-radius:64px; color:#fff; font-family:var(--font); font-weight:600; font-size:16px; line-height:24px; cursor:pointer; transition:background 0.15s, border-color 0.15s, box-shadow 0.15s, color 0.15s, opacity 0.15s; outline:none; }
    .sticky-cta .cta-btn:hover { background:var(--color-primary); }
    .sticky-cta .cta-btn:active { opacity:0.85; }
    .sticky-cta .cta-btn:disabled { background:var(--color-bg-neutral); color:var(--color-text-disable); border-color:transparent; box-shadow:none; cursor:default; opacity:1; }

    @media (max-width:393px) { .phone { width:100vw; } .sticky-cta { width:100vw; } }
  </style>
</head>
<body>
  <div class="phone">
    <!-- ‚ïê‚ïê‚ïê STICKY HEADER ‚ïê‚ïê‚ïê -->
    <header class="sticky-header">
      <nav class="navbar">
        <a href="#" class="logo-link"><svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 68.4 20.2105" fill="none" xmlns="http://www.w3.org/2000/svg" style="height:20px"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.27488 9.02021L4.27317 9.60492H6.85449C7.37256 9.60492 7.79278 10.0111 7.79278 10.5118V12.1928C7.79278 12.6936 7.37256 13.0998 6.85449 13.0998H4.27317V18.665C4.27317 19.166 3.85295 19.5719 3.33488 19.5719H0.938286C0.419971 19.5719 0 19.166 0 18.665V8.9695H0.00170819C0.0256229 4.36987 3.23288 0.568882 7.36231 0.00869932C7.92162 -0.0672496 8.41846 0.36415 8.41846 0.91018V3.39031C8.41846 3.82101 8.10294 4.18353 7.66808 4.27646C5.74026 4.68876 4.27488 6.65895 4.27488 9.02021ZM59.9836 11.839H59.9815V18.6675C59.9815 19.1718 60.4191 19.5809 60.9589 19.5809H63.4338C63.9814 19.5809 64.422 19.1602 64.4108 18.6485L64.2604 11.839H64.2599C64.295 9.67459 65.7264 7.87505 67.6115 7.47666C68.0669 7.38045 68.4 7.01793 68.4 6.58153V4.3798C68.4 3.82581 67.8758 3.39368 67.2893 3.47208C63.1962 4.02061 60.023 7.55767 59.9836 11.839ZM53.8528 10.2684C53.7183 8.896 52.4071 7.55534 50.6251 7.55534C48.8095 7.55534 47.3303 8.86402 47.1284 10.2684H53.8528ZM57.4062 16.7992C57.7961 17.169 57.7796 17.7752 57.3695 18.1244C55.7847 19.4741 53.5592 20.2105 51.3841 20.2105C46.5087 20.2105 42.844 17.0188 42.844 12.1677C42.844 7.85856 45.9371 4.09247 50.7788 4.09247C55.2842 4.09247 58.4782 7.69909 58.4782 12.0078C58.4782 12.1123 58.476 12.217 58.4718 12.3206C58.4518 12.807 58.025 13.1888 57.5123 13.1888H47.0803C47.3157 15.359 49.1651 16.8593 51.4849 16.8593C52.9239 16.8593 54.1388 16.2601 54.9715 15.6184C55.3479 15.3284 55.8973 15.3666 56.24 15.6921L57.4062 16.7992ZM38.3146 4.63228L34.1248 13.5783L29.9352 4.63228C29.7812 4.30397 29.4408 4.09247 29.0653 4.09247H26.661C25.9656 4.09247 25.5041 4.78359 25.7948 5.38954L32.3664 19.1022C32.5221 19.4267 32.8604 19.6349 33.2328 19.6349H35.0167C35.3892 19.6349 35.7277 19.4267 35.8832 19.1022L42.455 5.38954C42.7454 4.78359 42.2839 4.09247 41.5886 4.09247H39.1842C38.8088 4.09247 38.4683 4.30397 38.3146 4.63228ZM21.2255 10.2684C21.091 8.896 19.7798 7.55534 17.9978 7.55534C16.1822 7.55534 14.7027 8.86402 14.501 10.2684H21.2255ZM24.5465 16.5786C25.0786 17.0837 25.0302 17.9154 24.4449 18.3647C22.8861 19.5613 20.7993 20.2105 18.7565 20.2105C13.8814 20.2105 10.2166 17.0188 10.2166 12.1677C10.2166 7.85856 13.3098 4.09247 18.1515 4.09247C22.6567 4.09247 25.8509 7.69909 25.8509 12.0078C25.8509 12.1123 25.8487 12.217 25.8444 12.3208C25.8245 12.807 25.3976 13.1888 24.8849 13.1888H14.453C14.6884 15.359 16.5375 16.8593 18.8576 16.8593C20.1783 16.8593 21.3105 16.3544 22.1315 15.7751C22.6437 15.4139 23.3513 15.444 23.8026 15.8724L24.5465 16.5786Z" fill="#031419"/></svg></a>
        <div class="nav-icons">
          <button class="nav-icon-btn" aria-label="Search"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M384 208A176 176 0 1 0 32 208a176 176 0 1 0 352 0zM343.3 366C307 397.2 259.7 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 51.7-18.8 99-50 135.3L507.3 484.7c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L343.3 366z"/></svg></button>
          <button class="nav-icon-btn" aria-label="Menu"><svg viewBox="0 0 448 512" fill="currentColor"><path d="M0 80c0-8.8 7.2-16 16-16H432c8.8 0 16 7.2 16 16s-7.2 16-16 16H16C7.2 96 0 88.8 0 80zM0 240c0-8.8 7.2-16 16-16H432c8.8 0 16 7.2 16 16s-7.2 16-16 16H16c-8.8 0-16-7.2-16-16zM448 400c0 8.8-7.2 16-16 16H16c-8.8 0-16-7.2-16-16s7.2-16 16-16H432c8.8 0 16 7.2 16 16z"/></svg></button>
        </div>
      </nav>
    </header>

    <!-- ‚ïê‚ïê‚ïê HERO CAROUSEL ‚ïê‚ïê‚ïê -->
    <div class="hero" id="heroCarousel">
      <div class="carousel-track" id="carouselTrack">
        <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1571266028243-e4733b0f0bb0?w=800&h=800&fit=crop" alt="Fabrik Madrid"></div>
        <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1574391884720-bbc3740c59d1?w=800&h=800&fit=crop" alt="Fabrik interior"></div>
        <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1545128485-c400e7702796?w=800&h=800&fit=crop" alt="VIP tables"></div>
        <div class="carousel-slide"><img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&h=800&fit=crop" alt="DJ booth"></div>
      </div>
      <button class="nav-prev" aria-label="Previous"></button>
      <button class="nav-next" aria-label="Next"></button>
      <div class="side-buttons">
        <button type="button" class="side-btn" aria-label="Like" id="likeBtn"><svg viewBox="0 0 512 512" fill="currentColor"><path d="M244 130.6l-12-13.5-4.2-4.7c-26-29.2-65.3-42.8-103.8-35.8c-53.3 9.7-92 56.1-92 110.3v3.5c0 32.3 13.4 63.1 37.1 85.1L253 446.8c.8 .7 1.9 1.2 3 1.2s2.2-.4 3-1.2L443 275.5c23.6-22 37-52.8 37-85.1v-3.5c0-54.2-38.7-100.6-92-110.3c-38.5-7-77.8 6.6-103.8 35.8l-4.2 4.7-12 13.5c-3 3.4-7.4 5.4-12 5.4s-8.9-2-12-5.4z"/></svg></button>
        <button type="button" class="side-btn" aria-label="Share"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13"/></svg></button>
      </div>
      <div class="shadow-overlay">
        <div class="slide-indicators" id="slideIndicators"></div>
      </div>
      <div class="rounded-top"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê TITLE ‚ïê‚ïê‚ïê -->
    <div class="title-section">
      <div class="tag-selling">Reservas VIP Limitadas</div>
      <h1>Fabrik Madrid ‚Äî Reserva tu Mesa VIP</h1>
      <div class="subtitle">Fabrik ¬∑ Av. de la Industria 82, Humanes de Madrid</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê DESCRIPTION ‚ïê‚ïê‚ïê -->
    <div class="description">
      <p><strong>Fabrik Madrid</strong> ‚Äî La discoteca m√°s ic√≥nica de Madrid y una de las Top 100 del mundo seg√∫n DJ Mag. Reserva tu mesa VIP y vive una noche inolvidable con servicio exclusivo de botellas, acceso prioritario y las mejores vistas de la pista.</p>
      <p class="desc-subtitle">Tu mesa VIP incluye</p>
      <ul>
        <li>Acceso VIP prioritario sin colas</li>
        <li>Mesa reservada en la zona seleccionada</li>
        <li>1 botella premium por cada 5 personas</li>
        <li>Refrescos, hielo y decoraci√≥n de mesa</li>
        <li>Ba√±os privados y zona de fumadores</li>
        <li>Plaza de parking reservada</li>
      </ul>
      <p class="desc-subtitle">Las salas</p>
      <p>Fabrik cuenta con 6 espacios √∫nicos: <strong>Main Room</strong> (pista principal con sistema de sonido e iluminaci√≥n de √∫ltima generaci√≥n), <strong>Hangar</strong> (2.000 personas, L-Acoustics), <strong>Satellite</strong> (segunda pista), <strong>Club</strong> (sala √≠ntima), <strong>Crystal</strong> (ambiente exclusivo) y <strong>Open Air</strong> (terraza al aire libre).</p>
      <p class="desc-subtitle">Info general</p>
      <p>üìÖ S√°bados y Domingos<br>üïê 23:00 ‚Äì 06:00<br>üìç Av. de la Industria 82, Humanes de Madrid<br>üöå Shuttle directo desde Plaza de Espa√±a (desde las 23:00, cada 30 min)<br>üë• Edad m√≠nima: 18 a√±os<br>üéµ Electr√≥nica ¬∑ Techno ¬∑ House</p>
    </div>

    <!-- ‚ïê‚ïê‚ïê INTERACTIVE MAP SECTION ‚ïê‚ïê‚ïê -->
    <div class="section-header" id="ticket-section">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.25 13.5" fill="none"><path d="M4.5 4.5C4.5 3.90234 4.99219 3.375 5.625 3.375H14.625C15.2227 3.375 15.75 3.90234 15.75 4.5V9C15.75 9.63281 15.2227 10.125 14.625 10.125H5.625C4.99219 10.125 4.5 9.63281 4.5 9V4.5ZM5.625 9H14.625V4.5H5.625V9ZM20.25 2.25V5.0625C19.3008 5.0625 18.5625 5.83594 18.5625 6.75C18.5625 7.69922 19.3008 8.4375 20.25 8.4375V11.25C20.25 12.5156 19.2305 13.5 18 13.5H2.25C0.984375 13.5 0 12.5156 0 11.25V8.4375C0.914062 8.4375 1.6875 7.69922 1.6875 6.75C1.6875 5.83594 0.914062 5.0625 0 5.0625V2.25C0 1.01953 0.984375 0 2.25 0H18C19.2305 0 20.25 1.01953 20.25 2.25ZM1.125 4.18359C2.10938 4.60547 2.8125 5.625 2.8125 6.75C2.8125 7.91016 2.10938 8.89453 1.125 9.35156V11.25C1.125 11.8828 1.61719 12.375 2.25 12.375H18C18.5977 12.375 19.125 11.8828 19.125 11.25V9.35156C18.1055 8.89453 17.4375 7.91016 17.4375 6.75C17.4375 5.625 18.1055 4.60547 19.125 4.18359V2.25C19.125 1.65234 18.5977 1.125 18 1.125H2.25C1.61719 1.125 1.125 1.65234 1.125 2.25V4.18359Z" fill="#06232C"/></svg>
      <h2>Selecciona tu mesa</h2>
    </div>

    <div class="map-section">
      <div class="map-title">Toca una zona del mapa para ver las mesas disponibles</div>
      <div class="floor-map-wrap">
        <svg viewBox="0 0 361 280" xmlns="http://www.w3.org/2000/svg">
          <!-- Main Room -->
          <g class="zone-group active" data-zone="main-room">
            <rect class="zone-bg" x="8" y="8" width="170" height="120" rx="8" fill="#e74c3c" opacity="0.4"/>
            <circle class="table-dot" cx="40" cy="36" r="4"/><circle class="table-dot" cx="70" cy="36" r="4"/><circle class="table-dot" cx="100" cy="36" r="4"/><circle class="table-dot" cx="130" cy="36" r="4"/>
            <circle class="table-dot" cx="40" cy="68" r="4"/><circle class="table-dot" cx="70" cy="68" r="4"/><circle class="table-dot" cx="100" cy="68" r="4"/><circle class="table-dot" cx="130" cy="68" r="4"/>
            <circle class="table-dot" cx="55" cy="100" r="4"/><circle class="table-dot" cx="85" cy="100" r="4"/><circle class="table-dot" cx="115" cy="100" r="4"/>
            <text class="zone-label" x="93" y="58">MAIN ROOM</text>
            <text class="zone-sublabel" x="93" y="72">Pista principal</text>
            <g class="zone-badge" data-zone="main-room"><circle cx="155" cy="22" r="0" fill="var(--color-primary)"/><text x="155" y="22"></text></g>
          </g>
          <!-- Hangar -->
          <g class="zone-group" data-zone="hangar">
            <rect class="zone-bg" x="186" y="8" width="170" height="120" rx="8" fill="#3498db" opacity="0.4"/>
            <circle class="table-dot" cx="218" cy="36" r="4"/><circle class="table-dot" cx="248" cy="36" r="4"/><circle class="table-dot" cx="278" cy="36" r="4"/><circle class="table-dot" cx="308" cy="36" r="4"/>
            <circle class="table-dot" cx="218" cy="68" r="4"/><circle class="table-dot" cx="248" cy="68" r="4"/><circle class="table-dot" cx="278" cy="68" r="4"/><circle class="table-dot" cx="308" cy="68" r="4"/>
            <circle class="table-dot" cx="233" cy="100" r="4"/><circle class="table-dot" cx="263" cy="100" r="4"/><circle class="table-dot" cx="293" cy="100" r="4"/>
            <text class="zone-label" x="271" y="58">HANGAR</text>
            <text class="zone-sublabel" x="271" y="72">2.000 personas</text>
            <g class="zone-badge" data-zone="hangar"><circle cx="333" cy="22" r="0" fill="var(--color-primary)"/><text x="333" y="22"></text></g>
          </g>
          <!-- Satellite -->
          <g class="zone-group" data-zone="satellite">
            <rect class="zone-bg" x="8" y="136" width="115" height="68" rx="8" fill="#2ecc71" opacity="0.4"/>
            <circle class="table-dot" cx="35" cy="160" r="4"/><circle class="table-dot" cx="60" cy="160" r="4"/><circle class="table-dot" cx="85" cy="160" r="4"/>
            <circle class="table-dot" cx="47" cy="182" r="4"/><circle class="table-dot" cx="72" cy="182" r="4"/>
            <text class="zone-label" x="66" y="168">SATELLITE</text>
            <text class="zone-sublabel" x="66" y="180">Segunda pista</text>
            <g class="zone-badge" data-zone="satellite"><circle cx="103" cy="148" r="0" fill="var(--color-primary)"/><text x="103" y="148"></text></g>
          </g>
          <!-- Club -->
          <g class="zone-group" data-zone="club">
            <rect class="zone-bg" x="131" y="136" width="100" height="68" rx="8" fill="#9b59b6" opacity="0.4"/>
            <circle class="table-dot" cx="158" cy="160" r="4"/><circle class="table-dot" cx="183" cy="160" r="4"/><circle class="table-dot" cx="208" cy="160" r="4"/>
            <circle class="table-dot" cx="170" cy="182" r="4"/><circle class="table-dot" cx="195" cy="182" r="4"/>
            <text class="zone-label" x="181" y="168">CLUB</text>
            <text class="zone-sublabel" x="181" y="180">Sala √≠ntima</text>
            <g class="zone-badge" data-zone="club"><circle cx="212" cy="148" r="0" fill="var(--color-primary)"/><text x="212" y="148"></text></g>
          </g>
          <!-- Crystal -->
          <g class="zone-group" data-zone="crystal">
            <rect class="zone-bg" x="239" y="136" width="115" height="68" rx="8" fill="#f39c12" opacity="0.4"/>
            <circle class="table-dot" cx="268" cy="160" r="4"/><circle class="table-dot" cx="293" cy="160" r="4"/><circle class="table-dot" cx="318" cy="160" r="4"/>
            <circle class="table-dot" cx="280" cy="182" r="4"/><circle class="table-dot" cx="305" cy="182" r="4"/>
            <text class="zone-label" x="297" y="168">CRYSTAL</text>
            <text class="zone-sublabel" x="297" y="180">Exclusivo</text>
            <g class="zone-badge" data-zone="crystal"><circle cx="335" cy="148" r="0" fill="var(--color-primary)"/><text x="335" y="148"></text></g>
          </g>
          <!-- Open Air -->
          <g class="zone-group" data-zone="open-air">
            <rect class="zone-bg" x="8" y="212" width="346" height="60" rx="8" fill="#1abc9c" opacity="0.4"/>
            <circle class="table-dot" cx="45" cy="238" r="4"/><circle class="table-dot" cx="90" cy="238" r="4"/><circle class="table-dot" cx="135" cy="238" r="4"/><circle class="table-dot" cx="180" cy="238" r="4"/><circle class="table-dot" cx="225" cy="238" r="4"/><circle class="table-dot" cx="270" cy="238" r="4"/><circle class="table-dot" cx="315" cy="238" r="4"/>
            <text class="zone-label" x="181" y="240">OPEN AIR</text>
            <text class="zone-sublabel" x="181" y="254">Terraza al aire libre</text>
            <g class="zone-badge" data-zone="open-air"><circle cx="333" cy="222" r="0" fill="var(--color-primary)"/><text x="333" y="222"></text></g>
          </g>
        </svg>
      </div>
      <div class="map-legend">
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#e74c3c"></div>Main Room</div>
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#3498db"></div>Hangar</div>
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#2ecc71"></div>Satellite</div>
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#9b59b6"></div>Club</div>
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#f39c12"></div>Crystal</div>
        <div class="map-legend-item"><div class="map-legend-dot" style="background:#1abc9c"></div>Open Air</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê TICKET SELECTOR ‚ïê‚ïê‚ïê -->
    <div class="ticket-selector">
      <div class="no-fees-banner">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
        <span>Sin comisiones de reserva</span>
      </div>
      <div class="selling-fast-banner">
        <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" style="color:var(--color-urgency-text)"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
        √öltimas mesas disponibles para este s√°bado
      </div>
      <div class="ticket-pills" id="ticket-pills-row"></div>
      <div id="ticket-panels"></div>
    </div>

    <!-- ‚ïê‚ïê‚ïê REVIEWS ‚ïê‚ïê‚ïê -->
    <div class="reviews" id="reviews-section"></div>

    <!-- ‚ïê‚ïê‚ïê HELP ‚ïê‚ïê‚ïê -->
    <div class="help-section">
      <div class="section-header">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" fill="none"><path d="M9 0C4.00781 0 0 4.04297 0 9C0 13.9922 4.00781 18 9 18C13.957 18 18 13.9922 18 9C18 4.04297 13.957 0 9 0ZM9 16.875C4.64062 16.875 1.125 13.3594 1.125 9C1.125 4.67578 4.64062 1.125 9 1.125C13.3242 1.125 16.875 4.67578 16.875 9C16.875 13.3594 13.3242 16.875 9 16.875ZM8.4375 12.0938C7.94531 12.0938 7.59375 12.4805 7.59375 12.9375C7.59375 13.4297 7.94531 13.7812 8.4375 13.7812C8.89453 13.7812 9.28125 13.4297 9.28125 12.9375C9.28125 12.4805 8.89453 12.0938 8.4375 12.0938ZM10.0195 4.5H7.94531C6.64453 4.5 5.625 5.55469 5.625 6.85547V7.17188C5.625 7.48828 5.87109 7.73438 6.1875 7.73438C6.46875 7.73438 6.75 7.48828 6.75 7.17188V6.85547C6.75 6.1875 7.27734 5.625 7.94531 5.625H10.0195C10.6875 5.625 11.25 6.1875 11.25 6.85547C11.25 7.27734 11.0039 7.69922 10.6172 7.91016L8.50781 8.96484C8.12109 9.17578 7.875 9.59766 7.875 10.0547V10.6875C7.875 11.0039 8.12109 11.25 8.4375 11.25C8.71875 11.25 9 11.0039 9 10.6875V10.0547C9 10.0195 9 9.98438 9.03516 9.94922L11.1445 8.89453C11.8828 8.47266 12.375 7.69922 12.375 6.85547C12.375 5.55469 11.3203 4.5 10.0195 4.5Z" fill="#06232C"/></svg>
        <h2>¬øNecesitas ayuda?</h2>
      </div>
      <div class="help-content">
        Contacta con soporte <a href="javascript:void(0)">aqu√≠</a>. Tambi√©n puedes escribirnos a <a href="mailto:reservas@fabrikmadrid.com">reservas@fabrikmadrid.com</a> o llamar al <strong>+34 632 773 881</strong>.
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê VENUE ‚ïê‚ïê‚ïê -->
    <div class="venue-wrap">
      <div class="section-header">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 17.9736" fill="none"><path d="M17.4375 4.68457C17.7539 4.89551 18 5.24707 18 5.63379C18 6.23145 17.5078 6.72363 16.875 6.72363H1.08984C0.457031 6.72363 0 6.23145 0 5.63379C0 5.24707 0.210938 4.89551 0.527344 4.68457L8.71875 0.0791016C8.89453-0.0263672 9.07031-0.0263672 9.24609 0.0791016L17.4375 4.68457ZM16.7695 5.59863L9 1.2041L1.19531 5.59863H7.20703C7.06641 5.35254 7.03125 5.07129 7.03125 4.75488C7.03125 3.7002 7.91016 2.78613 9 2.78613C10.0547 2.78613 10.9688 3.7002 10.9688 4.75488C10.9688 5.07129 10.8984 5.35254 10.7578 5.59863H16.7695ZM9 5.59863C9.45703 5.59863 9.84375 5.24707 9.84375 4.75488C9.84375 4.29785 9.45703 3.91113 9 3.91113C8.50781 3.91113 8.15625 4.29785 8.15625 4.75488C8.15625 5.24707 8.50781 5.59863 9 5.59863ZM2.25 7.84863H3.375V12.3486H6.1875V7.84863H7.3125V12.3486H10.6875V7.84863H11.8125V12.3486H14.625V7.84863H15.75V12.3486C16.0312 12.3486 16.3125 12.6299 16.3125 12.9111C16.3125 13.2275 16.0312 13.4736 15.75 13.4736H2.25C1.93359 13.4736 1.6875 13.2275 1.6875 12.9111C1.6875 12.6299 1.93359 12.3486 2.25 12.3486V7.84863ZM16.5938 14.5986C16.875 14.5986 17.1562 14.8799 17.1562 15.1611C17.1562 15.4775 16.875 15.7236 16.5938 15.7236H1.40625C1.08984 15.7236 0.84375 15.4775 0.84375 15.1611C0.84375 14.8799 1.08984 14.5986 1.40625 14.5986H16.5938ZM17.4375 16.8486C17.7188 16.8486 18 17.1299 18 17.4111C18 17.7275 17.7188 17.9736 17.4375 17.9736H0.5625C0.246094 17.9736 0 17.7275 0 17.4111C0 17.1299 0.246094 16.8486 0.5625 16.8486H17.4375Z" fill="#06232C"/></svg>
        <h2>Sobre el venue</h2>
      </div>
      <div class="venue-section">
        <div class="venue-img"></div>
        <div class="venue-name-lg">Fabrik Madrid</div>
        <div class="venue-desc">Fabrik es un complejo de ocio nocturno situado en Humanes de Madrid, con capacidad para m√°s de 4.000 personas. Con 6 salas diferenciadas, 7 barras y un sistema de sonido de √∫ltima generaci√≥n, es reconocida como una de las Top 100 discotecas del mundo por DJ Mag. Artistas como Carl Cox, Steve Aoki y Marco Carola han actuado en sus escenarios.</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê LOCATION ‚ïê‚ïê‚ïê -->
    <div class="location-wrap">
      <div class="section-header">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.5 17.9736" fill="none"><path d="M9.5625 6.75C9.5625 8.33203 8.29688 9.5625 6.75 9.5625C5.16797 9.5625 3.9375 8.33203 3.9375 6.75C3.9375 5.20312 5.16797 3.9375 6.75 3.9375C8.29688 3.9375 9.5625 5.20312 9.5625 6.75ZM6.75 8.4375C7.66406 8.4375 8.4375 7.69922 8.4375 6.75C8.4375 5.83594 7.66406 5.0625 6.75 5.0625C5.80078 5.0625 5.0625 5.83594 5.0625 6.75C5.0625 7.69922 5.80078 8.4375 6.75 8.4375ZM13.5 6.75C13.5 9.84375 9.38672 15.293 7.55859 17.5781C7.13672 18.1055 6.32812 18.1055 5.90625 17.5781C4.07812 15.293 0 9.84375 0 6.75C0 3.02344 2.98828 0 6.75 0C10.4766 0 13.5 3.02344 13.5 6.75ZM6.75 1.125C3.62109 1.125 1.125 3.65625 1.125 6.75C1.125 7.3125 1.30078 8.05078 1.6875 9C2.07422 9.91406 2.60156 10.8984 3.23438 11.8828C4.42969 13.8164 5.83594 15.6797 6.75 16.8047C7.62891 15.6797 9.03516 13.8164 10.2305 11.8828C10.8633 10.8984 11.3906 9.91406 11.7773 9C12.1641 8.05078 12.375 7.3125 12.375 6.75C12.375 3.65625 9.84375 1.125 6.75 1.125Z" fill="#06232C"/></svg>
        <h2>C√≥mo llegar</h2>
      </div>
      <div class="location">
        <div class="loc-name">Fabrik Madrid</div>
        <div class="loc-address">Av. de la Industria, 82, 28970 Humanes de Madrid</div>
        <div class="map-placeholder">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3041.8!2d-3.8318!3d40.2514!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd4220d6e85d1f3f%3A0x9b8c3b5e1e6a1b1a!2sFabrik!5e0!3m2!1ses!2ses!4v1" allowfullscreen loading="lazy"></iframe>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê -->
    <div class="footer">
      <div class="footer-cols">
        <div class="footer-col"><h5>Sobre Fever</h5><ul><li><a href="#">Prensa</a></li><li><a href="#">Empleo</a></li><li><a href="#">Tarjetas regalo</a></li></ul></div>
        <div class="footer-col"><h5>Trabaja con nosotros</h5><ul><li><a href="#">Fever Zone</a></li><li><a href="#">Publica tu evento</a></li></ul></div>
      </div>
      <div class="legal">
        <a href="#">T√©rminos de uso</a> | <a href="#">Pol√≠tica de privacidad</a> | <a href="#">Cookies</a>
        <div style="margin-top:8px;text-align:right;">&copy;2026 &ndash; Fever</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê STICKY CTA ‚ïê‚ïê‚ïê -->
    <div class="sticky-cta" id="sticky-cta">
      <button class="cta-btn" id="sticky-btn">Mesas VIP</button>
    </div>
  </div>

  <script>
  (function() {
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       DATA: Zones and table types for Fabrik
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    var ZONES = [
      {
        id: 'main-room', label: 'Main Room', color: '#e74c3c',
        tables: [
          { name: 'Mesa VIP Standard', desc: '5 personas ¬∑ 1 botella premium', price: 300 },
          { name: 'Mesa VIP Premium', desc: '8 personas ¬∑ 2 botellas premium', price: 500 },
          { name: 'Mesa VIP Platinum', desc: '10 personas ¬∑ 3 botellas premium + champagne', price: 800 }
        ]
      },
      {
        id: 'hangar', label: 'Hangar', color: '#3498db',
        tables: [
          { name: 'Mesa VIP Standard', desc: '5 personas ¬∑ 1 botella premium', price: 250 },
          { name: 'Mesa VIP Premium', desc: '8 personas ¬∑ 2 botellas premium', price: 400 },
          { name: 'Mesa VIP Platinum', desc: '10 personas ¬∑ 3 botellas premium + champagne', price: 650 }
        ]
      },
      {
        id: 'satellite', label: 'Satellite', color: '#2ecc71',
        tables: [
          { name: 'Mesa VIP Standard', desc: '5 personas ¬∑ 1 botella premium', price: 200 },
          { name: 'Mesa VIP Premium', desc: '8 personas ¬∑ 2 botellas premium', price: 350 }
        ]
      },
      {
        id: 'club', label: 'Club', color: '#9b59b6',
        tables: [
          { name: 'Mesa VIP Standard', desc: '4 personas ¬∑ 1 botella premium', price: 250 },
          { name: 'Mesa VIP Premium', desc: '6 personas ¬∑ 2 botellas premium', price: 400 }
        ]
      },
      {
        id: 'crystal', label: 'Crystal', color: '#f39c12',
        tables: [
          { name: 'Mesa VIP Standard', desc: '4 personas ¬∑ 1 botella premium', price: 200 },
          { name: 'Mesa VIP Premium', desc: '6 personas ¬∑ 2 botellas premium', price: 350 }
        ]
      },
      {
        id: 'open-air', label: 'Open Air', color: '#1abc9c',
        tables: [
          { name: 'Mesa VIP Standard', desc: '5 personas ¬∑ 1 botella premium', price: 180 },
          { name: 'Mesa VIP Premium', desc: '8 personas ¬∑ 2 botellas premium', price: 300 },
          { name: 'Mesa VIP Platinum', desc: '10 personas ¬∑ 3 botellas + c√≥cteles', price: 500 }
        ]
      }
    ];

    /* ‚ïê‚ïê‚ïê Build ticket pills & panels ‚ïê‚ïê‚ïê */
    var pillsRow = document.getElementById('ticket-pills-row');
    var panelsEl = document.getElementById('ticket-panels');

    ZONES.forEach(function(zone, zi) {
      var pill = document.createElement('div');
      pill.className = 'ticket-pill' + (zi === 0 ? ' active' : '');
      pill.setAttribute('data-zone', zone.id);
      pill.textContent = zone.label;
      pillsRow.appendChild(pill);

      var panel = document.createElement('div');
      panel.className = 'ticket-panel';
      panel.id = 'panel-' + zone.id;
      panel.setAttribute('data-zone', zone.id);
      if (zi > 0) panel.style.display = 'none';

      zone.tables.forEach(function(t) {
        panel.innerHTML +=
          '<div class="ticket-row qty-zero" data-price="' + t.price + '">' +
            '<div class="ticket-content">' +
              '<div class="ticket-name">' + t.name + '</div>' +
              '<div class="ticket-desc">' + t.desc + '</div>' +
              '<div class="ticket-price">\u20ac' + t.price.toFixed(2) + '</div>' +
            '</div>' +
            '<div class="ticket-notch"></div>' +
            '<div class="ticket-selector-right">' +
              '<div class="stepper ticket-amount">' +
                '<button class="amt-btn minus">\u2212</button>' +
                '<span class="amt-count">0</span>' +
                '<button class="amt-btn plus">+</button>' +
              '</div>' +
            '</div>' +
          '</div>';
      });
      panelsEl.appendChild(panel);
    });

    /* ‚ïê‚ïê‚ïê BIDIRECTIONAL SYNC: Map <-> Pills <-> Panels ‚ïê‚ïê‚ïê */
    var mapGroups = document.querySelectorAll('.zone-group');

    function selectZone(zoneId) {
      pillsRow.querySelectorAll('.ticket-pill').forEach(function(p) {
        p.classList.toggle('active', p.getAttribute('data-zone') === zoneId);
      });
      panelsEl.querySelectorAll('.ticket-panel').forEach(function(p) {
        p.style.display = p.getAttribute('data-zone') === zoneId ? '' : 'none';
      });
      mapGroups.forEach(function(g) {
        g.classList.toggle('active', g.getAttribute('data-zone') === zoneId);
      });
      updateStickyBtn();

      var activePill = pillsRow.querySelector('.ticket-pill.active');
      if (activePill) {
        activePill.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
      }
    }

    mapGroups.forEach(function(g) {
      g.addEventListener('click', function() {
        selectZone(g.getAttribute('data-zone'));
      });
    });

    pillsRow.addEventListener('click', function(e) {
      var pill = e.target.closest('.ticket-pill');
      if (!pill) return;
      selectZone(pill.getAttribute('data-zone'));
    });

    /* ‚ïê‚ïê‚ïê Quantity stepper ‚ïê‚ïê‚ïê */
    panelsEl.addEventListener('click', function(e) {
      var btn = e.target.closest('.amt-btn');
      if (!btn) return;
      var row = btn.closest('.ticket-row');
      var countEl = row.querySelector('.amt-count');
      var count = parseInt(countEl.textContent, 10);
      if (btn.classList.contains('plus')) count = Math.min(count + 1, 5);
      else if (btn.classList.contains('minus')) count = Math.max(count - 1, 0);
      countEl.textContent = count;
      row.classList.toggle('qty-zero', count === 0);
      row.classList.toggle('selected', count > 0);
      updateTotal();
      updateBadges();
    });

    /* ‚ïê‚ïê‚ïê Map badges: show quantity per zone ‚ïê‚ïê‚ïê */
    function updateBadges() {
      ZONES.forEach(function(zone) {
        var panel = document.getElementById('panel-' + zone.id);
        var total = 0;
        if (panel) {
          panel.querySelectorAll('.ticket-row').forEach(function(row) {
            total += parseInt(row.querySelector('.amt-count').textContent, 10);
          });
        }
        var badges = document.querySelectorAll('.zone-badge[data-zone="' + zone.id + '"]');
        badges.forEach(function(badge) {
          var circle = badge.querySelector('circle');
          var text = badge.querySelector('text');
          if (total > 0) {
            circle.setAttribute('r', '10');
            text.textContent = total;
          } else {
            circle.setAttribute('r', '0');
            text.textContent = '';
          }
        });
      });
    }

    /* ‚ïê‚ïê‚ïê Total calculation ‚ïê‚ïê‚ïê */
    function getTotal() {
      var total = 0;
      panelsEl.querySelectorAll('.ticket-row').forEach(function(row) {
        var count = parseInt(row.querySelector('.amt-count').textContent, 10);
        if (count > 0) total += parseFloat(row.getAttribute('data-price')) * count;
      });
      return total;
    }

    function getItems() {
      var items = [];
      panelsEl.querySelectorAll('.ticket-row').forEach(function(row) {
        var count = parseInt(row.querySelector('.amt-count').textContent, 10);
        if (count > 0) {
          items.push({
            name: row.querySelector('.ticket-name').textContent,
            qty: count,
            price: parseFloat(row.getAttribute('data-price'))
          });
        }
      });
      return items;
    }

    /* ‚ïê‚ïê‚ïê Sticky CTA ‚ïê‚ïê‚ïê */
    var stickyBtn = document.getElementById('sticky-btn');
    var ticketSection = document.getElementById('ticket-section');
    var stickyMode = 'tickets';
    var hasSeenTickets = false;

    function getStickyTopOffset() {
      var sh = document.querySelector('.sticky-header');
      return sh ? sh.offsetHeight : 0;
    }

    function scrollToTicketSection(behavior) {
      var y = ticketSection.getBoundingClientRect().top + window.pageYOffset - getStickyTopOffset();
      window.scrollTo({ top: Math.max(0, y), behavior: behavior || 'auto' });
    }

    function updateStickyBtn() {
      if (stickyMode === 'getit') {
        var total = getTotal();
        if (total > 0) {
          stickyBtn.textContent = '\u20ac' + total.toFixed(2) + ' \u2014 Reservar';
          stickyBtn.disabled = false;
        } else {
          stickyBtn.textContent = 'Selecciona una mesa';
          stickyBtn.disabled = false;
        }
      }
    }

    function updateTotal() { updateStickyBtn(); }

    var observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          hasSeenTickets = true;
          stickyMode = 'getit';
          updateStickyBtn();
        } else if (!hasSeenTickets) {
          stickyMode = 'tickets';
          stickyBtn.textContent = 'Mesas VIP';
          stickyBtn.disabled = false;
        } else {
          stickyMode = 'getit';
          updateStickyBtn();
        }
      });
    }, { threshold: 0.1 });
    observer.observe(ticketSection);

    stickyBtn.addEventListener('click', function() {
      if (stickyMode === 'tickets') {
        scrollToTicketSection('smooth');
        var total = getTotal();
        if (total > 0) { stickyMode = 'getit'; updateStickyBtn(); }
      } else {
        if (getTotal() <= 0) { scrollToTicketSection('smooth'); return; }
        alert('Reserva confirmada por \u20ac' + getTotal().toFixed(2) + '.\n\nGracias por reservar en Fabrik Madrid.\nRecibir√°s un email de confirmaci√≥n.');
      }
    });

    /* ‚ïê‚ïê‚ïê Reviews ‚ïê‚ïê‚ïê */
    var REVIEWS = {
      rating: 4.7, count: 2340,
      breakdown: [72, 18, 6, 3, 1],
      list: [
        { name: 'Marina G.', date: 'Feb 2026', stars: 5, text: 'La experiencia VIP fue incre√≠ble. La mesa ten√≠a vistas directas al DJ y el servicio de botellas fue impecable. Sin duda repetiremos.' },
        { name: 'Carlos R.', date: 'Ene 2026', stars: 5, text: 'Mejor discoteca de Madrid. El Hangar con el sonido L-Acoustics es una pasada. La zona VIP merece totalmente la pena.' },
        { name: 'Laura M.', date: 'Feb 2026', stars: 4, text: 'Muy buena noche, el servicio VIP es top. El √∫nico inconveniente es que est√° un poco lejos del centro, pero el shuttle funciona bien.' },
        { name: 'Pablo S.', date: 'Ene 2026', stars: 5, text: 'Celebramos un cumplea√±os en la zona Crystal y fue brutal. Decoraci√≥n de mesa, trato personalizado... todo perfecto.' }
      ]
    };

    var AVATAR_COLORS = ['var(--color-accent)','var(--color-primary)','#e84393','var(--color-success)','var(--color-rating)','var(--color-danger)'];
    function makeStars(n) { var s=''; for(var i=0;i<5;i++) s+=i<Math.floor(n)?'\u2605':'\u2606'; return s; }
    function getInitials(name) { var parts=name.split(' '); return (parts[0]?parts[0][0]:'')+(parts[1]?parts[1][0]:''); }

    var reviewsEl = document.getElementById('reviews-section');
    var bd = REVIEWS.breakdown;
    var rHtml = '<h3 class="reviews-title">Opiniones de usuarios</h3>';
    rHtml += '<div class="reviews-summary">';
    rHtml += '<div class="reviews-score-col"><span class="score-number">' + REVIEWS.rating.toFixed(1) + '</span><span class="score-out-of">/5</span><span class="score-stars">' + makeStars(REVIEWS.rating) + '</span><span class="score-count">' + REVIEWS.count.toLocaleString() + ' opiniones</span></div>';
    rHtml += '<div class="reviews-bars-col">';
    for (var bi=5; bi>=1; bi--) {
      var pct = bd[5-bi] || 0;
      rHtml += '<div class="bar-row"><span class="bar-label">' + bi + '</span><span class="bar-star">\u2605</span><div class="bar-track"><div class="bar-fill" style="width:' + pct + '%"></div></div><span class="bar-pct">' + pct + '%</span></div>';
    }
    rHtml += '</div></div>';
    rHtml += '<div class="reviews-verified"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> Opiniones verificadas</div>';
    REVIEWS.list.forEach(function(r, ri) {
      rHtml += '<div class="review-card"><div class="review-card-header"><div class="review-avatar" style="background:' + AVATAR_COLORS[ri % AVATAR_COLORS.length] + '">' + getInitials(r.name) + '</div><div class="review-card-info"><div class="reviewer">' + r.name + '</div><div class="review-date">' + r.date + '</div></div></div><div class="review-stars">' + makeStars(r.stars) + '</div><div class="review-text">' + r.text + '</div></div>';
    });
    rHtml += '<a class="reviews-see-all" href="javascript:void(0)">Ver las ' + REVIEWS.count.toLocaleString() + ' opiniones</a>';
    reviewsEl.innerHTML = rHtml;

    /* ‚ïê‚ïê‚ïê Hero Carousel ‚ïê‚ïê‚ïê */
    (function() {
      var track = document.getElementById('carouselTrack');
      var slides = track.querySelectorAll('.carousel-slide');
      var indEl = document.getElementById('slideIndicators');
      var total = slides.length;
      if (total === 0) return;

      slides.forEach(function(_, i) {
        var bar = document.createElement('div');
        bar.className = 'bar';
        bar.innerHTML = '<span class="fill"></span>';
        indEl.appendChild(bar);
      });

      var bars = indEl.querySelectorAll('.bar');
      var current = 0;
      var DURATION = 4000, TICK = 40, elapsed = 0, timer = null, looping = false;

      var clone = slides[0].cloneNode(true);
      clone.classList.add('clone-slide');
      track.appendChild(clone);

      function updateBars() {
        for (var i = 0; i < bars.length; i++) {
          var fill = bars[i].querySelector('.fill');
          bars[i].classList.remove('done');
          if (i < current) { bars[i].classList.add('done'); fill.style.width = '100%'; fill.style.transition = 'none'; }
          else if (i === current) { fill.style.transition = 'none'; fill.style.width = '0%'; }
          else { fill.style.width = '0%'; fill.style.transition = 'none'; }
        }
      }

      function goTo(idx) {
        if (looping) return;
        if (idx < 0) idx = total - 1;
        if (idx >= total) {
          looping = true;
          track.style.transform = 'translateX(-' + (total * 100) + '%)';
          current = 0; elapsed = 0; updateBars();
          setTimeout(function() {
            track.style.transition = 'none';
            track.style.transform = 'translateX(0%)';
            void track.offsetWidth;
            track.style.transition = '';
            looping = false;
          }, 480);
          return;
        }
        current = idx;
        track.style.transform = 'translateX(-' + (current * 100) + '%)';
        elapsed = 0; updateBars();
      }

      function tick() {
        elapsed += TICK;
        var pct = Math.min((elapsed / DURATION) * 100, 100);
        var fill = bars[current].querySelector('.fill');
        fill.style.transition = 'width ' + TICK + 'ms linear';
        fill.style.width = pct + '%';
        if (elapsed >= DURATION) goTo(current + 1);
      }

      function start() { if (!timer) timer = setInterval(tick, TICK); }
      function stop() { clearInterval(timer); timer = null; }
      function restart() { stop(); elapsed = 0; start(); }

      document.querySelector('.hero .nav-prev').addEventListener('click', function(e) { e.stopPropagation(); goTo(current - 1); restart(); });
      document.querySelector('.hero .nav-next').addEventListener('click', function(e) { e.stopPropagation(); goTo(current + 1); restart(); });

      var heroEl = document.getElementById('heroCarousel');
      var tsX = 0, tsY = 0, sw = false;
      heroEl.addEventListener('touchstart', function(e) { tsX = e.touches[0].clientX; tsY = e.touches[0].clientY; sw = true; stop(); }, { passive: true });
      heroEl.addEventListener('touchmove', function(e) { if (!sw) return; var dx = e.touches[0].clientX - tsX; if (Math.abs(dx) > Math.abs(e.touches[0].clientY - tsY)) e.preventDefault(); }, { passive: false });
      heroEl.addEventListener('touchend', function(e) { if (!sw) return; sw = false; var dx = e.changedTouches[0].clientX - tsX; if (Math.abs(dx) > 40) { if (dx < 0) goTo(current + 1); else goTo(current - 1); } restart(); });

      goTo(0); start();
    })();

    /* ‚ïê‚ïê‚ïê Like button toggle ‚ïê‚ïê‚ïê */
    document.getElementById('likeBtn').addEventListener('click', function() {
      this.classList.toggle('liked');
    });
  })();
  </script>
</body>
</html>
